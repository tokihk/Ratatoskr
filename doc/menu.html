<!DOCTYPE html>
<html lang="ja">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta http-equiv="content-style-type" content="text/css"> 
	<meta http-equiv="content-script-type" content="text/javascript">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- JQuery -->
	<script type="text/javascript" src="./_lib/jquery/jquery-3.2.1.min.js"></script>

	<!-- Bootstrap -->
	<link href="./_lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="./_lib/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
	<script type="text/javascript" src="./_lib/bootstrap/js/bootstrap.min.js"></script>

	<!-- JSTree -->
	<link href="./_lib/jstree/themes/default/style.min.css" rel="stylesheet">
	<script type="text/javascript" src="./_lib/jstree/jstree.min.js"></script>

	<!-- GitHub -->
	<link href="./_lib/github/github.css" rel="stylesheet">

	<script type="text/javascript">
		function getLanguageMode() {
			return ($("#language_mode").val());
		}

		function loadContents(load_url, load_target, load_language = "jpn") {
			if ((load_url == null) || (load_url == "#"))return;

			if (load_target == null) {
				load_target = "contents";
			}

			// [1]:拡張子無しパス [2]:ドット有り拡張子
			var url_info = load_url.match(/(.+)(\.[^.\/]+$)/);

			// 新しいパスで読み込み
			window.open(url_info[1] + "." + load_language + url_info[2], load_target);
		}

		function loadContentsFromNode(node) {
			if ((node) && (node.a_attr)) {
				loadContents(node.a_attr.href, node.a_attr.target, getLanguageMode());
			}
		}

		function reloadContents() {
			loadContentsFromNode($('#navigation').jstree().get_top_selected(true)[0]);
		}

		$(window).on('load', function() {
			$('#navigation')
			.on('changed.jstree', function (e, data) {
				loadContentsFromNode(data.node);
			})
			.jstree();

			// 初期ページ設定
			$('#navigation').jstree().select_node("#node_home");
		});
  	</script>
</head>
<body>
	<div id="mode" align="right">
		<select id="language_mode" onchange="reloadContents();">
			<option value="jpn">Japanese</option>
			<!-- <option value="eng">English</option> -->
		</select>
	</div>
	<h2>Menu</h2>
	<div id="navigation">
		<ul>
			<li id="node_home" data-jstree='{"icon":"glyphicon glyphicon-home"}'><a href="./pages/introduction.html">Introduction</a></li>
			<li data-jstree='{"opened":true, "icon":"glyphicon glyphicon-random"}'>Packet Converter<ul>
				<li data-jstree='{"icon":"glyphicon glyphicon-check"}'><a href="./pages/packet-converter/packet-filter.html">Filter</a></li>
				<li data-jstree='{"icon":"glyphicon glyphicon-check"}'><a href="./pages/packet-converter/packet-grouping.html">Grouping</a></li>
				<li data-jstree='{"icon":"glyphicon glyphicon-check"}'><a href="./pages/packet-converter/packet-convert.html">Convert</a></li>
			</ul></li>
		</ul>
	</div>
</body>
</html>

